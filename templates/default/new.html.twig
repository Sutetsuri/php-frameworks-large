{% extends 'base.html.twig' %}

{% block title %}
PHP Templates Suck
{% endblock %}

{% block stylesheets %}
<style media="screen">
#map{
  width: 100%;
  height: 400px;
}
.invisible {
  display: none;
}
</style>
{% endblock %}

{% block body %}


            <form method="geo" action="/geo">
              <label>Your adress:</label>
              <input id="address" type="text" name="address">
              <input type="submit" name="submitForm" value="Submit">
            </form>
            </br></br>

{% if latitude is defined and longitude is defined %}
                <div class="invisible">
                  <p>Latitude: <span id="latField">{{latitude}}</span></p>
                  <p>Longitude: <span id="lngField">{{longitude}}</span></p>
                </div>
                <label for="iconChosen">Select Marker: </label>
                <select id="iconChosen" onchange="initMap()" name="selectIcon">
                  <option selected value="1">Default</option>
                  <option value="2">Custom Marker</option>
                </select>
                <br><br>
                <label for="colorChosen">Color for arrow: </label>
                <select disabled id="colorChosen" onchange="initMap()" name="selectCustomColor">
                  <option selected value="Gold">Gold</option>
                  <option value="Purple">Purple</option>
                </select>
                <br><br>
{% endif %}



            <div id="map"></div>

{% endblock %}

{% block javascripts %}
{% if latitude is defined and longtitude is defined %}
<script type="text/javascript">
  var latitude = {{latitude}};
  var longitude = {{longitude}};
  console.log(latitude);
</script>

{% endif %}
<script src="{{ asset('location.js') }}"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCWIl8pkTbpwT1_fZeftQNG4-Pe06RKbkc&callback=initMap" async defer></script>
{% endblock %}
